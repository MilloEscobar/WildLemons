var app=function(e){function p(e){$("html,body").animate({scrollTop:$(e).offset().top},1e3)}function s(){app.getServices(app.SERVICES),app.getAbout(app.ABOUT,!0),app.getMembers(app.MEMBERS),app.getWorks(app.WORKS)}var t=$("#materials"),r=$("#sendEmail"),l=$("#formName"),o=$("#gotcha"),i=$("#formMessage"),n=$("#formEmail"),c=$(".header-space");LENGUAGE_BTN=$(".lenguage-btn"),a=c.offset().top+$(".header-space").height()-70,LENGUAGE_SELECTOR=$(".lenguage-selections"),LENGUAGE_HIDDEN=$(".lenguage-hidden"),OTHER_LINKS=$(".go-to"),SPINNER=$("#spinner"),NAV_LINKS=$("#nav_menu .go-to");var d=new Date;return $("#copyright-date").html(d.getFullYear()),r.on("click",function(e){e.preventDefault();var a=!0,p=!0;if($(".input-required").removeClass("field-error"),$(".input-required").siblings("span").addClass("hidden"),""==l.val()&&(l.addClass("field-error"),l.siblings(".empty-field").removeClass("hidden"),p=!1),""==n.val())n.addClass("field-error"),n.siblings(".empty-field").removeClass("hidden"),a=!1;else{var s=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;s.test(n.val()),s.test(n.val())||(n.siblings(".email-field").removeClass("hidden"),a=!1)}""!=p&&a&&(SPINNER.removeClass("hidden"),app.form())}),NAV_LINKS.on("click",function(e){e.preventDefault(),$("#navbar-icon").trigger("click"),p($(this).attr("href"))}),OTHER_LINKS.click(function(e){e.preventDefault(),p($(this).attr("href"))}),$(e).on("resize",function(){a=c.offset().top+$(".header-space").height()-70}),$(document).on("scroll",function(){$(this).scrollTop()>a?$(".nav-wrapper").removeClass("transparent"):$(".nav-wrapper").addClass("transparent")}),LENGUAGE_BTN.on("click",function(e){e.preventDefault(),"true"===this.value?(app.SPANISH=!0,s()):app.SPANISH=!1,LENGUAGE_HIDDEN.removeClass("lenguage-hidden"),LENGUAGE_SELECTOR.addClass("lenguage-hidden")}),console.log("******loading******"),{ACCESS_TOKEN:"31dbd1f65af6d8809fe96da31d38db04180043a06854cc19b39431317cd4d3b5",SPACE_ID:"o2re92u0b14d",MEMBERS_ID:"members",SERVICES_ID:"services",ABOUT_ID:"about",ABOUTIMAGES_ID:"aboutImges",WORKS_ID:"works",MATERIALS_LIST:t,FORM_NAME:l,FORM_GOTCHA:o,EMAIL_SUBMIT_FORM:"wildlemonscr@gmail.com",FORM_MESSAGE:i,SPANISH:!1,SPINNER:SPINNER,FORM_EMAIL:n}}(window);!function(e){app.ajax=function(e){$.ajax({url:e.url,method:e.method,data:e.data,dataType:e.dataType,headers:e.headers,success:function(a){e.callback(a)},error:function(a,p){e.errorCallback(a)}})}}(window),function(e){app.getAbout=function(){var e="https://cdn.contentful.com/spaces/"+app.SPACE_ID+"/entries?access_token="+app.ACCESS_TOKEN+"&content_type="+app.ABOUT_ID;object={url:e,method:"GET",callback:app.renderAbout,errorCallback:app.renderAbout,dataType:"json",headers:{}},app.ajax(object)},app.getMembers=function(){var e="https://cdn.contentful.com/spaces/"+app.SPACE_ID+"/entries?access_token="+app.ACCESS_TOKEN+"&content_type="+app.MEMBERS_ID;object={url:e,method:"GET",callback:app.renderMembers,errorCallback:app.renderMembers,dataType:"json",headers:{}},app.ajax(object)},app.getServices=function(){var e="https://cdn.contentful.com/spaces/"+app.SPACE_ID+"/entries?access_token="+app.ACCESS_TOKEN+"&content_type="+app.SERVICES_ID;object={url:e,method:"GET",callback:app.renderServices,errorCallback:app.renderServices,dataType:"json",headers:{}},app.ajax(object)},app.getWorks=function(){var e="https://cdn.contentful.com/spaces/"+app.SPACE_ID+"/entries?access_token="+app.ACCESS_TOKEN+"&content_type="+app.WORKS_ID;object={url:e,method:"GET",callback:app.renderWorks,errorCallback:app.renderWorks,dataType:"json",headers:{}},app.ajax(object)},app.getWorks=function(){var e="https://cdn.contentful.com/spaces/"+app.SPACE_ID+"/entries?access_token="+app.ACCESS_TOKEN+"&content_type="+app.ABOUTIMAGES_ID;object={url:e,method:"GET",callback:app.renderAboutImages,errorCallback:app.renderAboutImages,dataType:"json",headers:{}},app.ajax(object)},app.form=function(){var e={url:"http://localhost:5000/mail",method:"POST",data:{NAME:app.FORM_NAME.val(),email_address:app.FORM_EMAIL.val()},callback:app.formSuccess,errorCallback:app.formError,headers:{},dataType:"json"};app.ajax(e)},app.form2=function(){var e={url:"https://formspree.io/"+app.EMAIL_SUBMIT_FORM,method:"POST",data:{name:app.FORM_NAME.val(),message:app.FORM_MESSAGE.val(),_gotcha:app.FORM_GOTCHA.val(),_subject:"NEW CLIENT",email:app.FORM_EMAIL.val()},callback:app.formSuccess,errorCallback:app.formError,headers:{},dataType:"json"};app.ajax(e)}}(window),function(e){app.renderAbout=function(e,a){app.ABOUT=e,app.SPANISH?$("#about li p").html(e.items[0].fields.descriptionSpanish2):$("#about li p").html(e.items[0].fields.descriptionEnglish1),a||$("#about li.img").html('<img src="'+e.includes.Asset[0].fields.file.url+'">')},app.renderMembers=function(e){app.MEMBERS=e;var a=$("#members .members"),p="";if(app.SPANISH){for(var s=0;s<app.MEMBERS.items.length;s++){for(var t="",r=0;r<app.MEMBERS.includes.Asset.length;r++)app.MEMBERS.includes.Asset[r].sys.id==app.MEMBERS.items[s].fields.image.sys.id&&(t=app.MEMBERS.includes.Asset[r].fields.file.url);p=p+'<li class="col-xs-12 col-sm-6"><img src="'+t+'"><h4 class="title">'+app.MEMBERS.items[s].fields.name+"</h4><p>"+app.MEMBERS.items[s].fields.descriptionSpanish+"</p></li>"}a.html(p)}else{for(var s=0;s<app.MEMBERS.items.length;s++){for(var t="",r=0;r<app.MEMBERS.includes.Asset.length;r++)app.MEMBERS.includes.Asset[r].sys.id==app.MEMBERS.items[s].fields.image.sys.id&&(t=app.MEMBERS.includes.Asset[r].fields.file.url);p=p+'<li class="col-xs-12 col-sm-6"><img src="'+t+'"><h4 class="title">'+app.MEMBERS.items[s].fields.name+"</h4><p>"+app.MEMBERS.items[s].fields.descriptionEnglish+"</p></li>"}a.html(p)}},app.renderServices=function(e){app.SERVICES=e;var a=$("#services .services"),p="";if(app.SPANISH){for(var s=0;s<app.SERVICES.items.length;s++){for(var t="",r=0;r<app.SERVICES.includes.Asset.length;r++)app.SERVICES.includes.Asset[r].sys.id==app.SERVICES.items[s].fields.icon.sys.id&&(t=app.SERVICES.includes.Asset[r].fields.file.url);p=p+'<li class="col-xs-12 col-sm-3"><img src="'+t+'"><h4 class="title">'+app.SERVICES.items[s].fields.nameSpanish+"</h4><p>"+app.SERVICES.items[s].fields.descriptionSpanish+"</p></li>"}a.html(p)}else{for(var s=0;s<app.SERVICES.items.length;s++){for(var t="",r=0;r<app.SERVICES.includes.Asset.length;r++)app.SERVICES.includes.Asset[r].sys.id==app.SERVICES.items[s].fields.icon.sys.id&&(t=app.SERVICES.includes.Asset[r].fields.file.url);p=p+'<li class="col-xs-12 col-sm-3"><img src="'+t+'"><h4 class="title">'+app.SERVICES.items[s].fields.name+"</h4><p>"+app.SERVICES.items[s].fields.descriptionEnglish+"</p></li>"}a.html(p)}},app.renderWorks=function(e,a){app.WORKS=e,app.SPANISH},app.renderAboutImages=function(e,a){app.ABOUTIMAGES=e,console.log(e);for(var p=1;p<5;p++)$("#about-img-"+p).attr("src","https:"+app.ABOUTIMAGES.includes.Asset[p-1].fields.file.url)},app.formSuccess=function(e){var a=$("#form");if(app.FORM_NAME.val(),app.FORM_GOTCHA.val(),app.FORM_MESSAGE.val(),app.FORM_EMAIL.val(),app.SPANISH)var p='<p>Gracias por tu interes <b class="client-name">'+app.FORM_NAME.val()+"</b>, te contactaremos lo mas pronto posible. :)</p>";else var p='<p>We are happy you are here <b class="client-name">'+app.FORM_NAME.val()+"</b>! We look forward to join your project. We will contact you as soon as possilble <b>:)</b></p>";a.html(p),app.SPINNER.addClass("hidden")},app.formError=function(e){console.log("formError",e),app.SPINNER.addClass("hidden")}}(window),function(e){app.getServices(),app.getAbout(),app.getMembers(),app.getWorks()}(window);